{
  "openapi": "3.0.0",
  "info": {
    "title": "Yemeksepeti Graduation Project REST(ful) API",
    "version": "1.0.0",
    "description": "This is a REST(ful) API that developed by using AdonisJS framework for Patika.dev/Kodluyoruz Yemeksepeti Android Developer Bootcamp graduation project."
  },
  "paths": {
    "/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "description": "Log In",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "email",
                  "password"
                ],
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "serverigaram@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "remidosol4434"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logging in is successful."
          }
        }
      }
    },
    "/logout": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "auth"
        ],
        "description": "Log Out",
        "responses": {
          "200": {
            "description": "Logging out is successful"
          }
        }
      }
    },
    "/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "description": "Register",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "avatarUrl": {
                  "contentType": "image/png, image/jpeg, image/jpg"
                }
              },
              "schema": {
                "required": [
                  "email",
                  "password",
                  "password_confirmation",
                  "avatarUrl",
                  "firstName",
                  "lastName",
                  "mobileNumber"
                ],
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "serverigaram@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "description": "Password",
                    "example": "remidosol4434"
                  },
                  "password_confirmation": {
                    "type": "string",
                    "format": "password",
                    "example": "remidosol4434",
                    "description": "Password confirmation"
                  },
                  "avatarUrl": {
                    "type": "string",
                    "format": "binary"
                  },
                  "firstName": {
                    "type": "string",
                    "example": "John"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Doe"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "pattern": "^(\\+\\d{1,3}[- ]?)?\\d{10}$",
                    "example": "+905301176240"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "You successfully registered."
          }
        }
      }
    },
    "/foods": {
      "get": {
        "tags": [
          "foods"
        ],
        "description": "Get all foods",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The number of page (every page fetch 10 items)"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of foods"
          }
        }
      }
    },
    "/orders/delete/{order_id}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "orders"
        ],
        "description": "Delete a order",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "order_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Order has been deleted."
          }
        }
      }
    },
    "/orders/{order_id}": {
      "get": {
        "tags": [
          "orders"
        ],
        "description": "Find a order",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "order_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Order has been found."
          }
        }
      }
    },
    "/orders": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "orders"
        ],
        "description": "Get all orders for available user.",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "The number of page (every page fetch 10 items)"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of orders of user"
          }
        }
      }
    },
    "/orders/store": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "orders"
        ],
        "description": "Store a order",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "restaurantId",
                  "userId",
                  "total",
                  "orderPaymentMethod"
                ],
                "type": "object",
                "properties": {
                  "restaurantId": {
                    "type": "number",
                    "example": 5
                  },
                  "userId": {
                    "type": "number",
                    "example": 3
                  },
                  "total": {
                    "type": "number",
                    "example": 3.5
                  },
                  "orderNote": {
                    "type": "string",
                    "example": "Please bring the order hot"
                  },
                  "orderPaymentMethod": {
                    "type": "string",
                    "enum": [
                      "CREDIT_CARD",
                      "CASH",
                      "COUPON",
                      "WALLET"
                    ],
                    "example": "CREDIT_CARD"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order has been stored."
          }
        }
      }
    },
    "/orders/update/{order_id}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "orders"
        ],
        "description": "Update a order",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "order_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "restaurantId": {
                    "type": "number",
                    "example": 5
                  },
                  "userId": {
                    "type": "number",
                    "example": 3
                  },
                  "total": {
                    "type": "number",
                    "example": 3.5
                  },
                  "orderNote": {
                    "type": "string",
                    "example": "Please bring the order hot"
                  },
                  "orderPaymentMethod": {
                    "type": "string",
                    "enum": [
                      "CREDIT_CARD",
                      "CASH",
                      "COUPON",
                      "WALLET"
                    ],
                    "example": "CREDIT_CARD"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order has been updated."
          }
        }
      }
    },
    "/restaurants/address/{restaurant_id}/add": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Add address to restaurant",
        "parameters": [
          {
            "name": "restaurant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "restaurant_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "country",
                  "city",
                  "district",
                  "neighborhood",
                  "street"
                ],
                "type": "object",
                "properties": {
                  "country": {
                    "type": "string",
                    "example": "Turkey"
                  },
                  "city": {
                    "type": "string",
                    "example": "Samsun"
                  },
                  "district": {
                    "type": "string",
                    "example": "Ilkadım"
                  },
                  "neighborhood": {
                    "type": "string",
                    "example": "19 Mayis"
                  },
                  "street": {
                    "type": "string",
                    "example": "Meşrutyet Sokak"
                  },
                  "latitude": {
                    "type": "number",
                    "example": 41.2879181
                  },
                  "longitude": {
                    "type": "number",
                    "example": 36.3361984
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address has been added to restaurant."
          }
        }
      }
    },
    "/restaurants/foods/add": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Store a food",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "imageUrl": {
                  "contentType": "image/png, image/jpeg, image/jpg"
                }
              },
              "schema": {
                "required": [
                  "name",
                  "price",
                  "imageUrl"
                ],
                "type": "object",
                "properties": {
                  "restaurantId": {
                    "type": "number",
                    "example": 5
                  },
                  "name": {
                    "type": "string",
                    "example": "Burger"
                  },
                  "price": {
                    "type": "number",
                    "example": 25.5
                  },
                  "description": {
                    "type": "string",
                    "example": "The Best"
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Food has been stored."
          }
        }
      }
    },
    "/restaurants/foods/{food_id}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Delete a food",
        "parameters": [
          {
            "name": "food_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "food_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Food has been deleted."
          }
        }
      },
      "get": {
        "tags": [
          "restaurants"
        ],
        "description": "Find a food",
        "parameters": [
          {
            "name": "food_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "food_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Food has been found."
          }
        }
      },
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Update a food",
        "parameters": [
          {
            "name": "food_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "food_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "imageUrl": {
                  "contentType": "image/png, image/jpeg, image/jpg"
                }
              },
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Burger"
                  },
                  "price": {
                    "type": "number",
                    "example": 25.5
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Food has been updated."
          }
        }
      }
    },
    "/restaurants/delete/{restaurant_id}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Delete a restaurant",
        "parameters": [
          {
            "name": "restaurant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "restaurant_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Restaurant has been deleted."
          }
        }
      }
    },
    "/restaurants/{restaurant_id}": {
      "get": {
        "tags": [
          "restaurants"
        ],
        "description": "Find a restaurant",
        "parameters": [
          {
            "name": "restaurant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "restaurant_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Restaurant has been found."
          }
        }
      }
    },
    "/restaurants": {
      "get": {
        "tags": [
          "restaurants"
        ],
        "description": "Get all restaurants",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "The number of page (every page fetch 10 items)"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of restaurants"
          }
        }
      }
    },
    "/restaurants/store": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Store a restaurant",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "logoUrl": {
                  "contentType": "image/png, image/jpeg, image/jpg"
                }
              },
              "schema": {
                "required": [
                  "name",
                  "category",
                  "logoUrl"
                ],
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Burger King"
                  },
                  "category": {
                    "type": "string",
                    "example": "Burger & Steak"
                  },
                  "description": {
                    "type": "string",
                    "example": "The Best"
                  },
                  "logoUrl": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Restaurant has been stored."
          }
        }
      }
    },
    "/restaurants/update/{restaurant_id}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "restaurants"
        ],
        "description": "Store a restaurant",
        "parameters": [
          {
            "name": "restaurant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "restaurant_id": {
                  "type": "number",
                  "example": 3
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "logoUrl": {
                  "contentType": "image/png, image/jpeg, image/jpg"
                }
              },
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Burger King"
                  },
                  "category": {
                    "type": "string",
                    "example": "Burger & Steak"
                  },
                  "logoUrl": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Restaurant has been updated."
          }
        }
      }
    },
    "/users/address/{user_id}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "users"
        ],
        "description": "Add address to user",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "user_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "country",
                  "city",
                  "district",
                  "neighborhood",
                  "street"
                ],
                "type": "object",
                "properties": {
                  "country": {
                    "type": "string",
                    "example": "Turkey"
                  },
                  "city": {
                    "type": "string",
                    "example": "Samsun"
                  },
                  "district": {
                    "type": "string",
                    "example": "Ilkadım"
                  },
                  "neighborhood": {
                    "type": "string",
                    "example": "19 Mayis"
                  },
                  "street": {
                    "type": "string",
                    "example": "Meşrutyet Sokak"
                  },
                  "latitude": {
                    "type": "number",
                    "example": 41.2879181
                  },
                  "longitude": {
                    "type": "number",
                    "example": 36.3361984
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address has been added to user."
          }
        }
      }
    },
    "/users/delete/{user_id}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "users"
        ],
        "description": "Delete a user",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "user_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User has been deleted."
          }
        }
      }
    },
    "/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "description": "Find a user",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "user_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User has been found."
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "users"
        ],
        "description": "Get all users",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "The number of page (every page fetch 10 items)"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of users"
          }
        }
      }
    },
    "/users/orders": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "users"
        ],
        "description": "Fetch logged in user's orders",
        "responses": {
          "200": {
            "description": "User's orders have been found."
          }
        }
      }
    },
    "/users/store": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "users"
        ],
        "description": "Store a user",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "avatarUrl": {
                  "contentType": "image/png, image/jpeg"
                }
              },
              "schema": {
                "required": [
                  "email",
                  "password",
                  "password_confirmation",
                  "avatarUrl",
                  "firstName",
                  "lastName",
                  "mobileNumber"
                ],
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "serverigaram@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "any"
                  },
                  "avatarUrl": {
                    "type": "string",
                    "format": "binary"
                  },
                  "firstName": {
                    "type": "string",
                    "example": "John"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Doe"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "pattern": "^(\\+\\d{1,3}[- ]?)?\\d{10}$",
                    "example": "+905301176240"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User has been stored."
          }
        }
      }
    },
    "/users/update/{user_id}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": [
          "users"
        ],
        "description": "Update a user",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number",
              "properties": {
                "user_id": {
                  "type": "number",
                  "example": 5
                }
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "avatarUrl": {
                  "contentType": "image/png, image/jpeg"
                }
              },
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "serverigaram@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "any"
                  },
                  "avatarUrl": {
                    "type": "string",
                    "format": "binary"
                  },
                  "firstName": {
                    "type": "string",
                    "example": "John"
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Doe"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "pattern": "^(\\+\\d{1,3}[- ]?)?\\d{10}$",
                    "example": "+905301176240"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User has been updated."
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Food": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "description": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "price"
        ]
      },
      "Order": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "userId": {
            "type": "number"
          },
          "restaurantId": {
            "type": "number"
          },
          "total": {
            "type": "number"
          },
          "orderNote": {
            "type": "string"
          },
          "orderPaymentMethod": {
            "type": "string",
            "enum": [
              "CREDIT_CARD",
              "CASH",
              "COUPON",
              "WALLET"
            ]
          }
        },
        "required": [
          "userId",
          "restaurantId",
          "orderPaymentMethod",
          "total"
        ]
      },
      "Profile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "userId": {
            "type": "number"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "avatarUrl": {
            "type": "string"
          },
          "mobileNumber": {
            "type": "string"
          }
        },
        "required": [
          "firstName",
          "lastName"
        ]
      },
      "Restaurant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ]
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "Standard Authorization header using the Bearer scheme. Example: \"Bearer {token}\""
      }
    }
  },
  "tags": []
}